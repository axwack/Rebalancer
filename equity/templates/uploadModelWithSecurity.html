{% extends 'base.html' %}{% load staticfiles %}{% block nav_active_list %}    <ul class="nav navbar-nav">        <li class=""><a href="{% url 'home' %}">Home</a></li>        <li class="dropdown">            <a href="{% url 'newRebalance' %}" class="dropdown-toggle" data-toggle="dropdown" role="button"               aria-haspopup="true"               aria-expanded="false">                New Rebalance <span class="caret"></span>            </a>            <ul class="dropdown-menu">                <li><a href="{% url 'newRebalance' %}">Create New Rebalance</a></li>                <li><a href="#">Select an Existing Rebalance</a></li>            </ul>        </li>        <li class="dropdown">            <a href="{% url 'accounts' %}" class="dropdown-toggle" data-toggle="dropdown" role="button"               aria-haspopup="true"               aria-expanded="false">                Accounts <span class="caret"></span>            </a>            <ul class="dropdown-menu">                <li><a href="{% url 'accountSearchFilter' %}">Create Account Filter</a></li>            </ul>        </li>        <li class="dropdown">            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"               aria-expanded="false">                Reference Data<span class="caret"></span>            </a>            <ul class="dropdown-menu">                <li><a href="">Positions</a></li>                <li><a href="#">Tax Lots</a></li>                <li><a href="#">Accounts</a></li>            </ul>        </li>        <li><a href="{% url 'securities' %}">Securities</a></li>        <li class="dropdown active">            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true"               aria-expanded="false">                Create AAM/SSM <span class="caret"></span>            </a>            <ul class="dropdown-menu">                <li><a href="{% url 'createSecuritySelectionModels' %}">Create New Model</a></li>                <li><a href="{% url 'updateSecuritySelectionModels' %}">Update Existing Model</a></li>                <li><a href="{% url 'uploadSecuritySelectionModels' %}">Upload a Model</a></li>                <li><a href="{% url 'deleteModel' %}">Delete Model</a></li>            </ul>        </li>        <li><a href="{% url 'rulesCreation' %}">Rules Creation</a></li>    </ul>{% endblock %}{% block primary %}    <div id="alerts"></div>    <div class=row>        <div class="col-sm-12 col-sm-offset">            <div class="page-header">                <h3>Upload a Model Via File</span></h3>            </div>        </div>    </div>    <div class="row">        <div class="col-md-9">            <div class="upload_form_cont">                <form id="upload_form" enctype="multipart/form-data" method="post" action="{% url 'file_upload' %}">                    {% csrf_token %}                    <div>                        <div><label for="csv_file"><h5>Choose a CSV file or "Drag-n-Drop" onto the pallette.</h5>                        </label>                        </div>                        <div><input type="file" name="csv_file" id="csv_file" onchange="fileSelected();"                                    multiple="multiple"/></div>                    </div>                    <div><input type="checkbox" id="includeHeaders"> File has headers? </input></div>                    <div>                        <button type="button" class="btn btn-primary" value="Upload" onclick="startUploading()">Upload                        </button>                    </div>                    <div id="fileinfo">                        <div id="filename"></div>                        <div id="filesize"></div>                        <div id="filetype"></div>                    </div>                    <div id="error">You should select valid CSV files only!</div>                    <div id="error2">An error occurred while uploading the file</div>                    <div id="abort">The upload has been canceled by the user or the browser dropped the connection</div>                    <div id="warnsize">Your file is very big. We can't accept it. Contact the administrator to increase                        size limits for your instance.                    </div>                    <div id="progress_info">                        <div id="progress"></div>                        <div id="progress_percent">&nbsp;</div>                        <div class="clear_both"></div>                        <div>                            <div id="speed">&nbsp;</div>                            <div id="remaining">&nbsp;</div>                            <div id="b_transfered">&nbsp;</div>                            <div class="clear_both"></div>                        </div>                        <div id="upload_response"></div>                    </div>                    <div>                        <button type="button" id="uploadDoneButton" class="btn btn-primary" value="Done"                                onclick="done()" disabled="disabled">Done with Upload                        </button>                    </div>                </form>            </div>        </div>    </div>    </ul>{% endblock %}{% block script %}    <link href="{% static 'fileupload/fileuploadstyle.css' %}" rel="stylesheet" type="text/css"/>    <script src="{% static 'fileupload/file.js' %}"></script>    <script type="text/javascript">        function done() {            if (document.getElementById('progress_percent').innerHTML == '100%') {                // similar behavior as an HTTP redirect                window.location.replace({% url 'createModelWeights' %}+'?&id=' + id_array['SSM_id'] +                        "&SSMModel=" + id_array['SSMModelName']);            }        }    </script>{% endblock %}